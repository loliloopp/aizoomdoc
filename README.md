# AIZoomDoc - –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é LLM

Backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö —á–µ—Ä—Ç–µ–∂–µ–π –∏ OCR-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Retrieval-Augmented Generation (RAG) –∏ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã—Ö LLM.

## –û–ø–∏—Å–∞–Ω–∏–µ

AIZoomDoc ‚Äî —ç—Ç–æ Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ:

- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —á–µ—Ä—Ç–µ–∂–∏ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ OCR-–¥–∞–Ω–Ω—ã–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –±–ª–æ–∫–æ–≤ –∏–∑ `annotation.json` –¥–ª—è —Ç–æ—á–Ω–æ–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –°–æ–∑–¥–∞—ë—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ viewport-–∫—Ä–æ–ø—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤–æ–∫—Ä—É–≥ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Ç–µ–∫—Å—Ç + –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è) –≤ LLM
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö —Å—Ç–∞–¥–∏–π –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–ü vs –†)

## –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### 1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∫—Ä–æ–ø (Viewport Strategy)

–í–º–µ—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–µ—Ç–∫–∏ —Ç–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–º–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –±–ª–æ–∫–æ–≤ –∏–∑ `annotation.json` –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Ü–µ–Ω—Ç—Ä—ã viewport
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –ø–∞–¥–¥–∏–Ω–≥–∞
- –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –±–ª–∏–∑–∫–∏—Ö –±–ª–æ–∫–æ–≤ –≤ –æ–¥–∏–Ω viewport
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Ü–µ–ª–µ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫—Ä–∞—Å–Ω—ã–º–∏ —Ä–∞–º–∫–∞–º–∏

### 2. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¢–ï–ö–°–¢–ê –∏ –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô

- **–ë–æ–ª—å—à–∏–µ –±–ª–æ–∫–∏** (—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, —Ç–∞–±–ª–∏—Ü—ã) ‚Üí –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¢–ï–ö–°–¢–£
- **–ú–∞–ª–µ–Ω—å–∫–∏–µ –±–ª–æ–∫–∏** (–Ω–∞–¥–ø–∏—Å–∏ –Ω–∞ —á–µ—Ä—Ç–µ–∂–∞—Ö) ‚Üí –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø–ú
- OCR-—Ç–µ–∫—Å—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –Ω–µ –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã

### 3. –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫

- –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ —Ç–µ–∫—Å—Ç–µ –∏ —Å–µ–∫—Ü–∏—è—Ö
- –ü—Ä–∏–≤—è–∑–∫–∞ —á–µ—Ä–µ–∑ BLOCK_ID –º–µ–∂–¥—É `result.md` –∏ `annotation.json`
- –¢–æ—á–Ω–∞—è —Å–≤—è–∑—å –º–µ–∂–¥—É —Ç–µ–∫—Å—Ç–æ–º –∏ –≥–µ–æ–º–µ—Ç—Ä–∏–µ–π –Ω–∞ —á–µ—Ä—Ç–µ–∂–∞—Ö

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
aizoomdoc/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py           # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ models.py             # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (dataclasses)
‚îÇ   ‚îú‚îÄ‚îÄ annotation_loader.py  # –ó–∞–≥—Ä—É–∑–∫–∞ annotation.json
‚îÇ   ‚îú‚îÄ‚îÄ markdown_parser.py    # –ü–∞—Ä—Å–∏–Ω–≥ result.md
‚îÇ   ‚îú‚îÄ‚îÄ image_processor.py    # Viewport-–∫—Ä–æ–ø—ã –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ search_engine.py      # –ü–æ–∏—Å–∫–æ–≤—ã–π –¥–≤–∏–∂–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ llm_client.py         # –ö–ª–∏–µ–Ω—Ç OpenRouter API
‚îÇ   ‚îî‚îÄ‚îÄ main.py               # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example              # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md                 # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python 3.12** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ Python 3.13+
- pip

> **üí° –°–æ–≤–µ—Ç:** Python 3.12 –∏–º–µ–µ—Ç –ª—É—á—à—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å OpenCV. –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Python 3.13+, —Å–º. `PYTHON_VERSION.md`

### 2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd aizoomdoc

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```bash
copy .env.example .env  # Windows
cp .env.example .env    # Linux/Mac
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:

```env
# OpenRouter API Configuration
OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxxxxxxxxxxxxx
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Default LLM Model
DEFAULT_MODEL=google/gemini-2.0-flash-thinking-exp

# Image Processing Settings
VIEWPORT_SIZE=2048
VIEWPORT_PADDING=512
HIGHLIGHT_COLOR_RGB=255,0,0
HIGHLIGHT_THICKNESS=10

# File Paths
DATA_ROOT=./data
STAGE_P_ROOT=./data/stage_p
STAGE_R_ROOT=./data/stage_r

# Logging
LOG_LEVEL=INFO
```

**–í–ê–ñ–ù–û:** –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –Ω–∞ [OpenRouter](https://openrouter.ai/).

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–∂–∏–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–∞–¥–∏–∏:

```
data/
‚îú‚îÄ‚îÄ result.md              # Markdown —Å OCR-—Ç–µ–∫—Å—Ç–æ–º
‚îú‚îÄ‚îÄ annotation.json        # –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –±–ª–æ–∫–æ–≤
‚îú‚îÄ‚îÄ page_001_full.jpg      # –ü–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã 1
‚îú‚îÄ‚îÄ page_002_full.jpg      # –ü–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã 2
‚îî‚îÄ‚îÄ ...
```

### –§–æ—Ä–º–∞—Ç `annotation.json`

```json
{
  "pdf_path": "document.pdf",
  "pages": [
    {
      "page_number": 1,
      "width": 9932,
      "height": 7015,
      "blocks": [
        {
          "id": "a4fb8613-da50-4751-a937-74791cf8fd47",
          "page_index": 1,
          "coords_px": [100, 200, 300, 400],
          "coords_norm": [0.01, 0.028, 0.03, 0.057],
          "block_type": "text",
          "source": "auto",
          "shape_type": "rectangle",
          "image_file": null,
          "ocr_text": "–ê–û–í8"
        }
      ]
    }
  ]
}
```

### –§–æ—Ä–º–∞—Ç `result.md`

```markdown
# –û–±—â–∏–µ —É–∫–∞–∑–∞–Ω–∏—è

–¢–µ–∫—Å—Ç –ø–æ—è—Å–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞–ø–∏—Å–∫–∏...

## –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è

| –ü–æ–∑–∏—Ü–∏—è | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ |
|---------|--------------|----------------|
| 1       | –í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä   | 1000 –º¬≥/—á      |

<!-- BLOCK_ID: a4fb8613-da50-4751-a937-74791cf8fd47 -->
–ê–û–í8
<!-- END_BLOCK -->
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

#### –ó–∞–ø—Ä–æ—Å –ø–æ –æ–¥–Ω–æ–π —Å—Ç–∞–¥–∏–∏

```bash
python -m src.main "–ù–∞–π–¥–∏ –≤—Å—ë –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–æ–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –Ω–∞ –ª–∏—Å—Ç–∞—Ö" --data-root ./data
```

#### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö —Å—Ç–∞–¥–∏–π

```bash
python -m src.main "–°—Ä–∞–≤–Ω–∏ —Å—Ç–∞–¥–∏—é –ü –∏ —Å—Ç–∞–¥–∏—é –† –ø–æ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏" --stage-p ./data/stage_p --stage-r ./data/stage_r
```

#### –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏

```bash
python -m src.main "–ù–∞–π–¥–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –ê–û–í" --data-root ./data --model "anthropic/claude-3.5-sonnet"
```

#### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ —Ñ–∞–π–ª

```bash
python -m src.main "–ê–Ω–∞–ª–∏–∑ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏" --data-root ./data --output result.txt
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

```
positional arguments:
  query                 –ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

options:
  -h, --help            –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–º–æ—â—å
  --data-root PATH      –ü—É—Ç—å –∫ –¥–∞–Ω–Ω—ã–º (–¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –ø–æ –æ–¥–Ω–æ–π —Å—Ç–∞–¥–∏–∏)
  --stage-p PATH        –ü—É—Ç—å –∫ —Å—Ç–∞–¥–∏–∏ –ü (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)
  --stage-r PATH        –ü—É—Ç—å –∫ —Å—Ç–∞–¥–∏–∏ –† (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)
  --model MODEL         –ò–º—è –º–æ–¥–µ–ª–∏ LLM
  --output PATH         –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–∞–π–ª
```

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–æ–∏—Å–∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è

```bash
python -m src.main "–ù–∞–π–¥–∏ –≤—Å—ë –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–æ–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –Ω–∞ –ª–∏—Å—Ç–∞—Ö" --data-root ./data
```

### –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏

```bash
python -m src.main "–ù–∞–π–¥–∏ –Ω–∞ —á–µ—Ä—Ç–µ–∂–∞—Ö –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –ê–û–í8 –∏ —É–∫–∞–∂–∏ –∏—Ö —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ" --data-root ./data
```

### –ê–Ω–∞–ª–∏–∑ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫

```bash
python -m src.main "–ö–∞–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —É –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–æ–≤ –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏?" --data-root ./data
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∞–¥–∏–π

```bash
python -m src.main "–°—Ä–∞–≤–Ω–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏ –≤ —Å—Ç–∞–¥–∏–∏ –ü –∏ —Å—Ç–∞–¥–∏–∏ –†. –ö–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è?" --stage-p ./data/stage_p --stage-r ./data/stage_r
```

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–æ–¥–µ–ª–∏

–ß–µ—Ä–µ–∑ OpenRouter –¥–æ—Å—Ç—É–ø–Ω—ã —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–æ–¥–µ–ª–∏:

- `google/gemini-2.0-flash-thinking-exp` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- `anthropic/claude-3.5-sonnet`
- `openai/gpt-4o`
- `google/gemini-pro-vision`
- –∏ –¥—Ä—É–≥–∏–µ (—Å–º. [OpenRouter Models](https://openrouter.ai/models))

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
- **–ö–æ–Ω—Å–æ–ª—å**: –≤—ã–≤–æ–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–§–∞–π–ª**: `aizoomdoc.log` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

–£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `.env`:
```env
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ü–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ó–∞–ø—Ä–æ—Å –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ
         ‚Üì
2. SearchEngine ‚Üí –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ result.md
         ‚Üì
3. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ BLOCK_ID –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤
         ‚Üì
4. AnnotationLoader ‚Üí –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏–∑ annotation.json
         ‚Üì
5. ImageProcessor ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ viewport-–∫—Ä–æ–ø–æ–≤ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
         ‚Üì
6. LLMClient ‚Üí –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º—Ç–∞
         ‚Üì
7. OpenRouter API ‚Üí –û—Ç–ø—Ä–∞–≤–∫–∞ –∫ LLM
         ‚Üì
8. –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

### –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º—Ç

LLM —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–µ—Ä—Å–æ–Ω–æ–π **–∏–Ω–∂–µ–Ω–µ—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤—â–∏–∫–∞** —Å–æ —Å—Ç—Ä–æ–≥–∏–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏:

- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–∑–º
- ‚úÖ –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (–Ω–æ–º–µ—Ä–∞ –ª–∏—Å—Ç–æ–≤, ID –±–ª–æ–∫–æ–≤)
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞
- ‚ùå –ó–∞–ø—Ä–µ—Ç –Ω–∞ –¥–æ–≥–∞–¥–∫–∏ –∏ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ TODO

### –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (V1)

- –ü—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º (–±–µ–∑ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤)
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –¥–ª—è –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏
- –ù–µ—Ç –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (–≤—Å—ë –≤ –ø–∞–º—è—Ç–∏)
- –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞

### –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è (V2+)

- [ ] –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —Å —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ viewport-–∫—Ä–æ–ø–æ–≤
- [ ] HTTP API (FastAPI)
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä—É–≥–∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ (–Ω–µ —Ç–æ–ª—å–∫–æ –≤–µ–Ω—Ç–∏–ª—è—Ü–∏—è)
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –±–ª–æ–∫–æ–≤
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

```bash
mypy src/
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

```bash
black src/
isort src/
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –ø—Ä–æ–µ–∫—Ç–∞.

